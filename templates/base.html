<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ez-ChatðŸ’¬</title>

    <link href="static\css\bg.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"
        integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA=="
        crossorigin="anonymous"></script>

</head>


<body style="align-items: center; color: #ffffff;" class=" mb-2" id="anime">
    <div
        style="background-image: linear-gradient(to bottom right, rgb(255,255,0, 0.3), rgb(63, 140, 235, 0.3) );  border-radius:222px;">
        <h1 class="mx-4 p-2 my-1"><a href="{{ url_for('home') }}">Ez-ChatðŸ’¬</a></h1>
        
    </div>
    <div class="content  p-2" style=" align-items: center;">
        {% block content %} {% endblock %}
    </div>

    <div class="   p-2 my-2"
        style="text-align: center ;align-items: center; background-image: linear-gradient(to bottom right, rgb(52, 209, 206, 0.3), rgb(255,255,0, 0.3)); border-radius: 10pt;">
        <h5 class="card-header">CS50x Final Project</h5>
        <div class="card-body" style="align-items: center;">
            <h7 class="card-title"> Made by - Vikas Kumar [IIT Goa]</h7>
            <p class="card-text"></p>
            <a href="https://www.linkedin.com/in/vikas-kumar-78584827b/" class="btn btn-primary"
                style="align-items: center;">Linkedin</a>
            <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" style="align-items: center;"
                class="btn btn-danger">Youtube</a>
            <a href="https://www.instagram.com/currently_vikas" style="align-items: center;"
                class="btn btn-secondary">Instagram</a>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
   <script>console.clear();
    const canvas = document.createElement('canvas');
    document.body.append(canvas);
    canvas.style.display = 'block';
    canvas.style.width = '100vw';
    canvas.style.height = '100vh';
    
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;
    
    const gl = canvas.getContext('webgl2');
    if (!gl) {
        alert('require webgl 2.0, bye')
    }
    
    const vss = `#version 300 es
    in vec2 p;
    void main() {
      gl_Position = vec4(p, 0.0, 1.0);
    }
    `;
    
    const fss = `#version 300 es
    precision mediump float;
    out vec4 o;
    uniform vec4 c;
    void main() {
      o = c;
    }
    `;
    
    
    // Create shader program
    // # should query both shader logs and program logs
    // #  only if program link's status is false.
    // 
    // Here's the antipattern .. keep for ref
    //
    
    const vs = gl.createShader(gl.VERTEX_SHADER);
    gl.shaderSource(vs, vss);
    gl.compileShader(vs);
    if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS)) {
        console.error(gl.getShaderInfoLog(vs));
        throw 1;
    }
    
    const fs = gl.createShader(gl.FRAGMENT_SHADER);
    gl.shaderSource(fs, fss);
    gl.compileShader(fs);
    if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS)) {
        console.error(gl.getShaderInfoLog(fs));
        throw 2;
    }
    
    const prg = gl.createProgram();
    gl.attachShader(prg, vs);
    gl.attachShader(prg, fs);
    gl.linkProgram(prg);
    if (!gl.getProgramParameter(prg, gl.LINK_STATUS)) {
        console.error(gl.getProgramInfoLog(prg));
        throw 3;
    }
    
    gl.detachShader(prg, vs);
    gl.deleteShader(vs);
    gl.detachShader(prg, fs);
    gl.deleteShader(fs);
    
    // ---- End of antipattern ----
    
    const $p = gl.getAttribLocation(prg, 'p');
    const $c = gl.getUniformLocation(prg, 'c');
    
    const va = gl.createVertexArray();
    gl.bindVertexArray(va);
    
    const N = 300; // n triangles
    
    let ps;
    {    
        ps = new Float32Array(2 + N * 2 * 2);
        ps[0] = 0; // clip space center
        ps[1] = 0;
        let j = 2;
        for (let i = 0; i < N; ++i) {
            ps[j++] = Math.random() * 2 - 1; //x 
            ps[j++] = Math.random() * 2 - 1; //y
            ps[j++] = Math.random() * 2 - 1; //x 
            ps[j++] = Math.random() * 2 - 1; //y
        }
    }
    
    const buf = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, buf);
    gl.bufferData(gl.ARRAY_BUFFER, ps, gl.DYNAMIC_DRAW);
    gl.enableVertexAttribArray($p);
    gl.vertexAttribPointer(
        $p,
        2, gl.FLOAT, // two 32b-float (8bytes)
        false,
        0, // skip n byte to fetch next
        0  // skip n byte to fetch first
    );
    
    let idxs; 
    { 
        idxs = new Uint16Array(3 * N);
        let j = 0;
        for (let i = 0; i < N; ++i) {
            idxs[j++] = 0;
            idxs[j++] = 1 + i * 2;
            idxs[j++] = 2 + i * 2;
        }
    }
    
    const ibuf = gl.createBuffer();
    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf);
    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, idxs, gl.STATIC_DRAW);
    
    gl.bindVertexArray(null);
    
    //----- render
    
    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
    gl.clearColor(0.1, 0.1, 0.1, 1);
    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);
    gl.enable(gl.BLEND);
    gl.disable(gl.CULL_FACE);
    gl.useProgram(prg);
    gl.bindVertexArray(va);
    
    
    
    function f() {
        gl.clear(gl.COLOR_BUFFER_BIT);
        gl.uniform4fv($c, [0.2, 0.2, 0.2, 0.02]);
        gl.drawElements(
            gl.TRIANGLES,
            idxs.length, // n indices
            gl.UNSIGNED_SHORT, // ui16
            0 // skip n bytes to fetch first
        );
    }
    f();
    
    // ---
    gl.bindBuffer(gl.ARRAY_BUFFER, buf);
    document.body.onmousemove = (e) => {
        ps[0] = e.clientX / window.innerWidth * 2 - 1;
        ps[1] = -1 * (e.clientY / window.innerHeight * 2 - 1);
        gl.bufferSubData(gl.ARRAY_BUFFER, 0, ps.slice(0, 2)); // that's why DYNAMIC_DRAW
        f();
    } </script>
</body>

</html>